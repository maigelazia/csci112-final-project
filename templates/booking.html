    {% extends "index.html" %}

    {% block title %} Book an Appointment {% endblock %}

    {% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/booking.css') }}">
    {% endblock %}

    {% block content %}

    <img src="{{ url_for('static', filename='images/book-bg.JPG') }}" class="booking-bg">

    <div class="form-container">
        <div class="form-proper">
            <h1>Book an Appointment</h1>
            <!-- <p>Please fill out the form below and weâ€™ll confirm your schedule.</p> -->
            
            <form method="POST" action="/api/appointments">
                <div class="personal-info">
                    <h3>Personal Information</h3>
                    <div class="form-group">
                        <div class="input-row">
                            <div class="input-group">
                                <label>Last Name</label>
                                <input type="text" name="last_name" placeholder="Enter last name" required>
                            </div>

                            <div class="input-group">
                                <label>Middle Name</label>
                                <input type="text" name="middle_name" placeholder="Enter middle name">
                            </div>

                            <div class="input-group">
                                <label>First Name</label>
                                <input type="text" name="first_name" placeholder="Enter first name" required>
                            </div>

                            <input type="hidden" name="full_name" id="full_name_field">
                        </div>

                        <div class="input-group">
                            <label>Email</label>
                            <input type="email" name="email" placeholder="example@gmail.com" required>
                        </div>

                        <div class="input-group">
                            <label>Phone Number</label>
                            <input type="text" name="contact_number" placeholder="09xxxxxxxxx">
                        </div>

                    </div>
                </div>

                <hr>

                
                <h3>Appointment Details</h3>
                <div class="form-group appointment-details">
                    <div class="form-group">

                        <label>Preferred Date</label>
                        <input type="date" name="date" required>

                        <label>Preferred Time</label>
                        <input type="time" name="time" required>
                        <br>
                        <br>
                        <label>Service / Concern</label>
                        <select name="concern" required>
                            <option value="" disabled selected>Select a service</option>
                            <option value="Teeth Cleaning">Teeth Cleaning</option>
                            <option value="Dental Check-up">Dental Check-up</option>
                            <option value="Tooth Extraction">Tooth Extraction</option>
                            <option value="Braces Consultation">Braces Consultation</option>
                            <option value="Cosmetic Dentistry">Cosmetic Dentistry</option>
                            <option value="Other">Other</option>
                        </select>
                        <br>
                        <br>
                        <label>Additional Notes</label>
                        <br>
                        <textarea name="notes" placeholder="Anything the dentist should know before your visit?"></textarea>
                    </div>
                </div>
                <hr>

                <button type="submit" class="submit-btn">Submit Booking</button>
            </form>
        </div>
    </div>
    {% endblock %}

{% block scripts %}
<script>
document.querySelector("form").addEventListener("submit", function () {
    const first = document.querySelector("[name='first_name']").value;
    const middle = document.querySelector("[name='middle_name']").value;
    const last = document.querySelector("[name='last_name']").value;

    document.getElementById("full_name_field").value =
        [first, middle, last].filter(Boolean).join(" ");
});
</script>
{% endblock %}